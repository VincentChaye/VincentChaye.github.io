<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZoneDeGrimpe — Paramètres</title>
  <link rel="icon" href="./assets/ZoneDeGrimpeIcon.png" />
  <link rel="stylesheet" href="./style/style.css" />
</head>

<body class="theme theme page-auth">
  <header class="app-header">
    <a class="brand" href="./">
      <img src="./assets/ZoneDeGrimpeIcon.png" alt="ZoneDeGrimpe" class="brand__icon" />
      <span class="brand__title">ZoneDeGrimpe</span>
    </a>
    <button id="hamburger" class="hamburger" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="nav">
      <span></span><span></span><span></span>
    </button>
    <nav id="nav" class="nav">
      <a href="./index.html">Accueil</a>
      <a href="./materiel.html">Matériel</a>
      <a href="./map.html">Carte</a>
      <a class="active" href="./parametres.html">Paramètres</a>
      <button id="themeToggle" class="btn btn--ghost" type="button">Thème</button>
    </nav>
  </header>


  <!-- Vue NON connecté -->
  <section id="authGate" class="card" style="display:none">
    <h2>Paramètres</h2>
    <p>Vous devez être connecté pour accéder à vos paramètres.</p>
    <div class="row gap-12">
      <a class="btn" href="./login.html">Se connecter</a>
      <a class="btn btn--ghost" href="./register.html">Créer un compte</a>
    </div>
  </section>

  <!-- Vue connecté -->
  <section id="accountView" class="card" style="display:none">
    <h2>Mon compte</h2>
    <div class="grid">
      <div><strong>Nom :</strong> <span id="vDisplayName">—</span></div>
      <div><strong>Email :</strong> <span id="vEmail">—</span></div>
      <div><strong>Téléphone :</strong> <span id="vPhone">—</span></div>
      <div><strong>Statut :</strong> <span id="vStatus">—</span></div>
      <div><strong>Vérifié :</strong> <span id="vVerified">—</span></div>
      <div><strong>Rôles :</strong> <span id="vRoles">—</span></div>
    </div>

    <div class="row gap-12 mt-16">
      <button id="btnLogout" class="btn btn--danger">Se déconnecter</button>
    </div>
    <form id="profileForm" class="form mt-16" style="max-width:520px">
      <h3>Modifier mon profil</h3>

      <label>Nom affiché
        <input type="text" id="fDisplayName" name="displayName" required />
      </label>

      <label>Avatar URL (optionnel)
        <input type="url" id="fAvatarUrl" name="avatarUrl" placeholder="https://..." />
      </label>

      <label>Téléphone (optionnel)
        <input type="tel" id="fPhone" name="phone" placeholder="+33 6 12 34 56 78" />
      </label>

      <div class="row items-center gap-12 mt-8">
        <img id="avatarPreview" alt="Aperçu avatar"
          style="width:56px;height:56px;border-radius:50%;object-fit:cover;display:none" />
        <span id="saveMsg" class="muted" style="display:none">Sauvegardé </span>
      </div>

      <div class="row gap-12 mt-12">
        <button class="btn" type="submit">Enregistrer</button>
      </div>
    </form>

  </section>

  <script type="module" src="./js/parametres.js"></script>
</body>

</html>